<!DOCTYPE html>
<html>
  <head>
    <meta charset="utf-8" />
    <title>TEst</title>
    <meta http-equiv="X-UA-Compatible" content="ie=edge" />
    <meta http-equiv="Content-Type" content="text/html;charset=UTF-8" />
    <meta name="renderer" content="webkit" />
    <style>
      * {
        margin: 0;
        padding: 0;
      }
    </style>
  </head>

  <body>
    <!-- <button onclick="fn1(123)">点击</button> -->
    <div id="root"></div>
  </body>
  <script>
    // function randomHexColor() {
    //   return (
    //     "#" +
    //     ("0000" + ((Math.random() * 0x1000000) << 0).toString(16)).substr(-6)
    //   );
    // }
    // setTimeout(function() {
    //   var k = 0;
    //   var root = document.getElementById("root");
    //   for (var i = 0; i < 10000; i++) {
    //     k += new Date() - 0;
    //     var el = document.createElement("div");
    //     el.innerHTML = k;
    //     root.appendChild(el);
    //     el.style.cssText = `background:${randomHexColor()};height:40px`;
    //   }
    // }, 1000);

    function randomHexColor() {
      return (
        "#" +
        ("0000" + ((Math.random() * 0x1000000) << 0).toString(16)).substr(-6)
      );
    }
    var root = document.getElementById("root");
    setTimeout(function() {
      function loop(n) {
        var k = 0;
        console.log(n);
        for (var i = 0; i < 100; i++) {
          k += new Date() - 0;
          var el = document.createElement("div");
          el.innerHTML = k;
          root.appendChild(el);
          el.style.cssText = `background:${randomHexColor()};height:40px`;
        }
        if (n) {
          setTimeout(function() {
            loop(n - 1);
          }, 40);
        }
      }
      loop(100);
    }, 1000);
    randomHexColor();
    
  </script>
</html>
