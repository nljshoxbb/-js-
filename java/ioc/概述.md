## IOC类型

### 1.构造函数注入

在构造函数中，通过调用类的构造函数，将接口实现类通过构造函数变量传入

```
MoAttack

public class MoAttack{
    private GeLi geli;

    // 注入革离的具体饰演者
    public MoAttack(GeLi geli){
        this.geli = geli;
    }
    public void cityGateAsk(){
        geli.responseAsk("123")
    }
}

Director

public class Director{
    public void direct(){
        // 指定角色的饰演者
        GeLi geli = new LiuDeHua();

        // 注入具体饰演者到剧本中
        MoAttack moAttack = new MoAttack(geli);
        MoAttack.cityGateAsk();
    }
}
```


### 2.属性注入

属性注入可以有选择地通过Setter方法完成调用类所需依赖的注入

```
public class MoAttack{
    private GeLi geli;

    // 属性注入方法
    public void setGeli(GeLi geli){
        this.geli = geli;
    }
    public void cityGateAsk(){
        geli.responseAsk("123")
    }
}

public class Director{
    public void direct(){
        MoAttack moAttack = new MoAttack();

        // 调用属性Setter方法注入
        GeLi geli = new LiuDeHua();
        moAttack.setGeli(geli);
        moAttack.cityGateAsk();
    }
}
```

### 3.接口注入

将调用类所有依赖注入的方法抽取到一个接口中，调用类通过实现该接口提供相应的注入方法。

```
public interface ActorArrangable{
    void injectGeli(GeLi geli);
}

public class MoAttack implements ActorArrangable {
    private GeLi geLi;

    @Override
    public void injectGeli(GeLi geLi) {
        this.geLi = geLi;
    }

    public void cityGateAsk(){
        geLi.responseAsk("123");
    }
}

public class Director {
    public void direct(){
        MoAttack moAttack = new MoAttack();
        GeLi geLi = new LiuDeHua();
        moAttack.injectGeli(geLi);
        moAttack.cityGateAsk();
    }
}

```

## 通过容器完成依赖关系的注入

```
<?xml version="1.0" encoding="UTF-8 ?>
<bean id="geli" class="LiuDeHua" />
<bean id="moAttack" class="com.smart.ioc.MoAttack" p:geli-ref="geli">
 <!-- 通过geli-ref 建立依赖关系  -->
```

通过` new XmlBeanFactory("beans.xml")` 登方式即可启动容器。在容器启动时，Spring根据配置文件的描述信息，自动实例化Bean并完成依赖关系的装配，从容器中即可返回准备就绪的Bean实例，后续可直接使用。