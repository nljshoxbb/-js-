#模块化

模块化就是将一个大文件拆分成相互依赖的小文件，再进行统一的拼装和加载。只有这样，才有多人协作的可能。很多人觉得模块化开发的工程意义是复用，我不太认可这种看法，在我看来，模块化开发的最大价值应该是分治，是分治。不管你将来是否要复用某段代码，你都有充分的理由将其分治为一个模块。
另一种观点：
* 组件的复用，降低开发成本和维护成本
* 组件单独开发，方便分工合作(分治？)
* 模块化遵循标准，方便自动化依赖管理，代码优化，部署

## JS模块化
CommonJS、AMD和CMD等，某些框架也会有自己模块系统，比如Angular1.x。
ES6已经在语言层面上规定了模块系统，完全可以取代现有的CommonJS和AMD规范
规范确定了，然后就是模块的打包和加载问题：
1. 用Webpack+Babel将所有模块打包成一个文件同步加载，也可以打成多个chunk异步加载
2. 用SystemJS+Babel主要是分模块异步加载
3. 用浏览器的`<script type="module">`加载

## CSS模块化
虽然SASS、LESS、Stylus等预处理器实现了CSS的文件拆分，但没有解决CSS模块化的一个重要问题：选择器的全局污染问题。为了避免全局选择器的冲突，各厂都制定了自己的CSS命名风格
> 与其费尽心思地告诉别人要遵守某种规则，以规避某种痛苦，倒不如从工具层面就消灭这种痛苦。

从工具层面，社区又创造出Shadow DOM、CSS in JS和CSS Modules三种解决方案。
1. Shadow DOM是WebComponents的标准。它能解决全局污染问题，但目前很多浏览器不兼容，对我们来说还很久远；
2. CSS in JS是彻底抛弃CSS，使用JS或JSON来写样式。这种方法很激进，不能利用现有的CSS技术，而且处理伪类等问题比较困难；
3. CSS Modules仍然使用CSS，只是让JS来管理依赖。它能够最大化地结合CSS生态和JS模块化能力，目前来看是最好的解决方案。Vue的scoped style也算是一种。

## 资源模块化

Webpack的强大之处不仅仅在于它统一了JS的各种模块系统，取代了Browserify、RequireJS、SeaJS的工作。更重要的是它的万能模块加载理念，即所有的资源都可以且也应该模块化
资源模块化后，有三个好处：
1. 依赖关系单一化。所有CSS和图片等资源的依赖关系统一走JS路线，无需额外处理CSS预处理器的依赖关系，也不需处理代码迁移时的图片合并、字体图片等路径问题；
2. 资源处理集成化。现在可以用loader对各种资源做各种事情，比如复杂的vue-loader等等。
3. 项目结构清晰化。使用Webpack后，你的项目结构总可以表示成这样的函数：dest = webpack(src, config)

# 组件化
首先，组件化≠模块化。模块化只是在文件层面上，对代码或资源的拆分；而组件化是在设计层面上，对UI（用户界面）的拆分。
从UI拆分下来的 **每个包含模板(HTML)+样式(CSS)+逻辑(JS)功能完备的结构单元，我们称之为组件**。组件化更重要的是一种 **分治思想**。
目前市面上的组件化框架很多，主要的有Vue、React、Angular 2

## 前端组件化开发理念
1. 页面上的每个 独立的 可视/可交互区域视为一个组件；
2. 每个组件对应一个工程目录，组件所需的各种资源都在这个目录下就近维护；
3. 由于组件具有独立性，因此组件与组件之间可以 自由组合；
4. 页面只不过是组件的容器，负责组合组件形成功能完整的界面；
5. 当不需要某个组件，或者想要替换组件时，可以整个目录删除/替换


# 规范化
模块化和组件化确定了开发模型，而这些东西的实现就需要规范去落实

* 目录结构的制定
* 编码规范
* 前后端接口规范
* 文档规范
* 组件管理
* Git分支管理
* Commit描述规范
* 定期CodeReview
* 视觉图标规范

其中编码规范最好采取ESLint和StyleLint等强制措施，配置git hooks可以实现Lint不过不能提交代码等机制，因为人是靠不住的。


# 自动化
> 任何简单机械的重复劳动都应该让机器去完成。
## 图标合并
* 不要再用PS拼雪碧图了，统一走Webpack
* 不要再用Icomoon了，统一走Webpack

## 持续集成
## 自动化构建
## 自动化部署
## 自动化测试


# Gulp、Webpack比较
1. Gulp
* Gulp就是为了规范前端开发流程，实现前后端分离、模块化开发、版本控制、文件合并与压缩、mock数据等功能的一个前端自动化构建工具。
* Gulp就像是一个产品的流水线，整个产品从无到有，都要受流水线的控制，在流水线上我们可以对产品进行管理。
* Gulp是通过task对整个开发过程进行构建。

2. Webpack
* 当下最热门的前端资源模块化管理和打包工具
* 可以很好的管理模块以及各个模块之间的依赖
* 对js、css、图片等资源文件都支持打包
* 有独立的配置文件webpack.config.js
* 可以将代码切割成不同的chunk，实现按需加载，降低了初始化时间
* 可以生成优化且合并后的静态资源

两大特色：1、代码可以自动完成编译。2、loader 可以处理各种类型的静态文件，并且支持串联操作